# Datarize Frontend 과제 전형

쇼핑몰 구매 데이터 대시보드 애플리케이션

## 목차

- [프로젝트 개요](#프로젝트-개요)
- [주요 기능](#주요-기능)
- [기술 스택](#기술-스택)
- [프로젝트 구조](#프로젝트-구조)
- [설치 및 실행 방법](#설치-및-실행-방법)
- [테스트](#테스트)
- [과제 요구사항](#과제-요구사항)

## 프로젝트 개요

쇼핑몰의 구매 데이터를 시각화하고 분석할 수 있는 대시보드 애플리케이션입니다.
2025년 10월~12월 (3개월) 동안 발생한 구매 데이터를 기반으로 다음과 같은 정보를 제공합니다.

## 주요 기능

### 1. 가격대별 구매 빈도 테이블

- 2만원 이하부터 10만원 이상까지 만원 단위로 구분된 가격대별 구매 빈도 표시
- 날짜 범위 선택 기능 (시작일~종료일)
- CSV 파일 다운로드 기능

### 2. 고객 목록 및 검색

- 날짜 범위별 고객 목록 조회
- 구매 금액순 정렬 (오름차순/내림차순)
- 이름 검색 기능
- 페이지네이션 지원
- 각 고객의 ID, 이름, 총 구매 횟수, 총 구매 금액 표시

### 3. 고객 상세 구매 내역

- 고객 선택 시 상세 구매 내역 모달 표시
- 구매 날짜, 제품명, 제품 가격, 구매 수량, 상품 썸네일 포함

## 기술 스택

### Frontend

- **React** 19.2.3
- **TypeScript** 5.9.3
- **Vite** 7.3.1 - 빌드 도구
- **Vitest** 4.0.17 - 테스트 프레임워크

### 개발 도구

- **ESLint** - 코드 품질 관리
- **Prettier** - 코드 포맷팅
- **Testing Library** - 컴포넌트 테스트

## 프로젝트 구조

```
apps/frontend/
├── src/
│   ├── api/              # API 통신 로직
│   ├── constants/        # 상수 정의
│   ├── features/         # 기능별 모듈
│   │   ├── customers/    # 고객 관련 기능
│   │   │   ├── components/
│   │   │   └── hooks/
│   │   ├── purchases/    # 구매 데이터 관련 기능
│   │   │   ├── components/
│   │   │   ├── hooks/
│   │   │   └── utils/
│   │   └── dashboard/    # 대시보드 공통 기능
│   │       └── components/
│   ├── pages/            # 페이지 컴포넌트
│   ├── shared/           # 공유 컴포넌트/유틸
│   └── test/             # 테스트 설정
├── public/               # 정적 파일
└── package.json
```

## 설치 및 실행 방법

### 개발 환경 요구사항

- **Node.js:** `22.17.0`
- **Yarn:** `1.22.22`

### 설치

1. 저장소 클론

```bash
git clone https://github.com/JeLee-river/datarize-fe-assignments.git
cd datarize-fe-assignments
```

2. 의존성 설치

```bash
cd apps
yarn install
```

### 실행

두 개의 터미널에서 각각 백엔드 서버와 프론트엔드 개발 서버를 실행합니다.

**터미널 1 - 백엔드 서버**

```bash
cd apps
yarn start-server
```

- 실행 주소: `http://localhost:4000`

**터미널 2 - 프론트엔드 개발 서버**

```bash
cd apps
yarn start-client
```

- 실행 주소: `http://localhost:3000`

### 빌드

```bash
cd apps/frontend
npm run build
```

## 테스트

프로젝트는 Vitest와 Testing Library를 사용하여 테스트가 작성되어 있습니다.

### 테스트 실행

```bash
cd apps/frontend
npm test              # 테스트 실행
npm run test:ui       # UI 모드로 테스트 실행
npm run test:coverage # 커버리지 포함하여 테스트 실행
```

## 과제 요구사항

### 요구 사항

#### 1. 가격대별 구매 빈도 테이블 & CSV 추출 기능

- 가격대는 2만원 이하부터 10만원 이상까지 만원 단위로 구분됩니다.
- 날짜 범위 선택 기능: 시작일과 종료일을 선택하여 특정 기간을 조회할 수 있어야 합니다. (단일 날짜 조회도 가능해야 함)
- 데이터 내보내기: 선택된 날짜 범위의 구매 데이터를 CSV 파일로 다운로드 할 수 있어야 합니다.

#### 2. 고객 목록 및 검색 기능

- 날짜 범위에 알맞게 고객 목록이 출력되어야 합니다.
- 고객을 구매 금액 순으로 내림차순/오름차순 정렬하여 보여주는 목록을 구현하세요. (기본 정렬은 ID 오름차순)
- 각 고객의 ID, 이름, 총 구매 횟수, 총 구매 금액을 표시하세요.
- 이름 검색 기능을 구현하세요.

#### 3. 고객 상세 구매 내역

- 날짜 범위에 알맞게 상세 내역이 나타나야 합니다.
- 고객 Row를 클릭하면 해당 고객의 상세 구매 내역을 표시하세요.
- 구매 내역에는 구매 날짜, 제품명, 제품 가격, 구매 수량, 상품 썸네일이 포함되어야 합니다.

### 세부 구현 사항

- 데이터 제공 방식

  - 서버에서 제공되는 API 엔드포인트를 통해 데이터를 가져와야 합니다.
  - API 명세

    1. GET `/api/purchase-frequency` - 가격대별 구매 빈도 데이터를 반환합니다.

       - **쿼리 파라미터 (optional)**
         - `from`: 시작 날짜 (ISO 8601 형식)
         - `to`: 종료 날짜 (ISO 8601 형식)
       - **응답 형식**:
         ```json
         [
           { "range": "0 - 20000", "count": 150 },
           { "range": "20001 - 30000", "count": 120 },
           ...
           { "range": "100001 - Infinity", "count": 50 }
         ]
         ```

    2. GET `/api/purchases` - CSV 추출을 위한 원본 구매 데이터를 반환합니다.

       - **쿼리 파라미터 (optional)**
         - `from`: 시작 날짜 (ISO 8601 형식)
         - `to`: 종료 날짜 (ISO 8601 형식)
       - **응답 형식**:
         ```json
         [
           {
             "date": "2025-10-01",
             "customerName": "황지민",
             "productName": "니트 스웨터",
             "price": 33000,
             "quantity": 2
           },
           ...
         ]
         ```

    3. GET `/api/customers` - 페이지네이션된 고객 목록을 반환합니다.

       - **쿼리 파라미터 (optional)**
         - `sortBy`: 정렬 기준 (가능한 값: asc, desc - 구매 금액 순 정렬)
         - `name`: 이름 검색
         - `page`: 페이지 번호 (기본값: 1)
         - `limit`: 페이지당 항목 수 (기본값: 20, 최대: 100)
       - 응답 형식:
         ```json
         {
           "data": [
             {
               "id": 1,
               "name": "황지민",
               "count": 5, // 총 구매 횟수 (고유한 구매일 기준)
               "totalAmount": 550000
             }
           ],
           "pagination": { ... }
         }
         ```

    4. GET `/api/customers/{id}/purchases` - 특정 고객의 상세 구매 내역을 반환합니다.
       - **응답 형식**:
         ```json
         [
           {
             "date": "2025-10-07",
             "quantity": 1,
             "product": "네이비 맨투맨",
             "price": 31000, // 제품 단가
             "imgSrc": "http://localhost:4000/imgs/sweatshirt.jpg"
           },
           ...
         ]
         ```

- 프론트엔드 기술 스택
  - `apps/frontend` 폴더 안에 미리 React 프로젝트를 세팅해 두었습니다. 이것을 사용하여 애플리케이션을 개발하세요.

### 추가 요구 사항

필수 요구사항이 충분히 구현된 경우, 아래 기능을 추가로 구현하면 가산점이 부여됩니다.

- **테스트**: 주요 기능에 대한 유닛 테스트 또는 통합 테스트 작성
